<?xml version="1.0" encoding="utf-8"?>

<mx:Application
    xmlns:mx="http://www.adobe.com/2006/mxml"
    xmlns:ui="org.granite.tide.uibuilder.*"
	xmlns:maps="com.i.eventsmaps.*"
    layout="absolute"
    backgroundColor="#ffffff"
    backgroundAlpha="0"
    preinitialize="preInit();"
	width="660"
	height="560"
	>
	
   	<!-- mate event map
    <mx:Style source="style/style.css"/>
   	<maps:MainEventMap/>
   	-->
    <mx:Style source="xan.css"/>
    
	<mx:Script>
   		<![CDATA[
   			import mx.collections.XMLListCollection;
   			import mx.events.TreeEvent;	   
	        import mx.collections.ArrayCollection;
	        import org.granite.tide.spring.Spring;
	        import org.granite.tide.events.TideResultEvent;
			import mx.events.ListEvent;
			import mx.controls.Alert;
			import org.granite.tide.spring.Context;
			import org.granite.tide.events.TideResultEvent;
			import com.i.Post;
			
			private var dummyPost:Post;
			private var tideContext:Context = Spring.getInstance().getSpringContext();
			[Bindable]
			public var posts:ArrayCollection = new ArrayCollection();
			private function listPosts():void 
			{
				tideContext.postService.list(listResult);
			}

			private function listResult(event:TideResultEvent):void
			{ 
				posts = event.result as ArrayCollection;
			}
			
			private function preInit():void
			{    	
				Spring.getInstance().initApplication();
				listPosts();
			}                                                                                                                                                  
		]]>
	</mx:Script>
			
	<mx:Style>

	</mx:Style>		   

	<mx:VBox backgroundColor="#000000" backgroundAlpha="0.6" label="Cast I Ching" width="100%" height="100%">
		<mx:LinkBar color="#0000FF" fontWeight="bold" dataProvider="{myViewStack}"/>		
		<mx:ViewStack id="myViewStack" borderStyle="none" width="100%" height="100%">		
			<mx:HBox id="castIChing" backgroundAlpha="0" label="Cast IChing" width="100%" height="60%" color="#ffffff">
				 <mx:Tree id="iChingMenu" width="20%" height="100%" labelField="title" showRoot="false" dataProvider="{posts}" fontSize="12"/>
				 <mx:VBox id="iChingContent" width="80%" height="100%" backgroundColor="#000000">
					
				 </mx:VBox>
			</mx:HBox>			
			<mx:Canvas id="IChingReferences" backgroundColor="#000000" label="IChing References" width="100%" height="100%">
				<mx:Label text="Customer Info" color="#000000"/>
			</mx:Canvas>			
		</mx:ViewStack>		
	</mx:VBox>
        
</mx:Application>
